{% extends 'Repairshop/Header.html' %}
{% block content %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Repair Invoice #{{ repair.id }}</title>
    <style>
        .invoice-container { max-width: 800px; margin: 20px auto; padding: 20px; border: 1px solid #ddd; border-radius: 4px; }
        .header { text-align: center; margin-bottom: 20px; }
        .details { display: flex; justify-content: space-between; margin-bottom: 20px; }
        .details div { width: 45%; }
        table { width: 100%; border-collapse: collapse; }
        th, td { padding: 10px; border: 1px solid #ddd; text-align: left; }
        th { background-color: #f2f2f2; }
        .total { text-align: right; font-weight: bold; margin-top: 20px; }
        .btn { background-color: #2ecc71; color: white; padding: 10px 20px; text-decoration: none; border-radius: 4px; }
        .btn:hover { background-color: #27ae60; }
    </style>
</head>
<body>
    <div class="invoice-container">
        <div class="header">
            <h1>Repair Invoice</h1>
            <p>Invoice #{{ repair.id }} | Date: {{ repair.request_date }}</p>
        </div>
        <div class="details">
            <div>
                <h3>From: {{ repair.repairshop.shop_name }}</h3>
                <p>Email: {{ repair.repairshop.shop_email }}</p>
                <p>Contact: {{ repair.repairshop.shop_contact }}</p>
            </div>
            <div>
                <h3>To: {{ repair.user.user_name }}</h3>
                <p>Email: {{ repair.user.user_email }}</p>
                <p>Contact: {{ repair.user.user_contact }}</p>
            </div>
        </div>
        <table>
            <tr>
                <th>Description</th>
                <th>Details</th>
            </tr>
            <tr>
                <td>Device</td>
                <td>{{ repair.device_details }}</td>
            </tr>
            <tr>
                <td>Problem</td>
                <td>{{ repair.problem_details }}</td>
            </tr>
            <tr>
                <td>Pickup Address</td>
                <td>{{ repair.pickup_address }}</td>
            </tr>
            <tr>
                <td>Repair Notes</td>
                <td>{{ repair.repair_notes|default:"N/A" }}</td>
            </tr>
        </table>
        <div class="total">
            <p>Total Amount: â‚¹{{ repair.repair_amount|default:"Not Set" }}</p>
        </div>
        <p style="text-align: center; margin-top: 20px;">
            <a href="{% url 'Repairshop:ViewRepairRequest' %}" class="btn">Back to Requests</a>
        </p>
    </div>
</body>
</html>
{% endblock %}